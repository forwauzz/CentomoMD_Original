# CentomoMD Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================
NODE_ENV=development
PORT=3001
HOST=localhost
CORS_ORIGIN=http://localhost:5173
API_VERSION=v1

# =============================================================================
# AWS CONFIGURATION
# =============================================================================
AWS_REGION=ca-central-1
AWS_ACCESS_KEY_ID=your_aws_access_key_id
AWS_SECRET_ACCESS_KEY=your_aws_secret_access_key
AWS_SESSION_TOKEN=your_aws_session_token  # Optional, for temporary credentials

# S3 Configuration
AWS_S3_BUCKET=centomomd-transcription-dev-123456789012
AWS_S3_PREFIX=transcripts/
AWS_S3_LIFECYCLE_DAYS=1

# Transcribe Configuration
AWS_TRANSCRIBE_LANGUAGE_OPTIONS=en-US,fr-CA
AWS_TRANSCRIBE_PREFERRED_LANGUAGE=fr-CA
AWS_TRANSCRIBE_MEDIA_SAMPLE_RATE_HZ=16000
AWS_TRANSCRIBE_MEDIA_ENCODING=pcm
AWS_TRANSCRIBE_SHOW_SPEAKER_LABELS=true
AWS_TRANSCRIBE_MAX_SPEAKER_LABELS=2

# =============================================================================
# SUPABASE CONFIGURATION
# =============================================================================
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key
SUPABASE_JWT_SECRET=your_jwt_secret

# =============================================================================
# AUTH CONFIGURATION
# =============================================================================
# Feature flags (default to false for safe rollout)
AUTH_REQUIRED=false
WS_REQUIRE_AUTH=false

# WebSocket JWT secret (required when WS_REQUIRE_AUTH=true)
WS_JWT_SECRET=your_ws_jwt_secret_here_make_it_long_and_random_32_chars_min

# WebSocket configuration
PUBLIC_WS_URL=ws://localhost:3001
USE_WSS=false

# Security configuration
CORS_ALLOWED_ORIGINS=http://localhost:5173,https://yourdomain.com
RATE_LIMIT_ENABLED=false

# Debug configuration
LOG_PAYLOADS=false
DIAG_MODE=false

# Database Configuration
DATABASE_URL=postgresql://username:password@host:port/database
DATABASE_SSL=true

# =============================================================================
# SECURITY CONFIGURATION
# =============================================================================
JWT_SECRET=your_jwt_secret_key_here_make_it_long_and_random
JWT_EXPIRES_IN=24h
BCRYPT_ROUNDS=12

# CORS Configuration
CORS_ALLOWED_ORIGINS=http://localhost:5173,https://yourdomain.com
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS
CORS_ALLOWED_HEADERS=Content-Type,Authorization,X-Requested-With

# Rate Limiting
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX_REQUESTS=100

# =============================================================================
# LOGGING CONFIGURATION
# =============================================================================
LOG_LEVEL=info
LOG_FORMAT=json
LOG_FILE_PATH=logs/
LOG_MAX_SIZE=10m
LOG_MAX_FILES=5

# Audit Logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for compliance

# =============================================================================
# COMPLIANCE CONFIGURATION
# =============================================================================
COMPLIANCE_HIPAA_ENABLED=true
COMPLIANCE_PIPEDA_ENABLED=true
COMPLIANCE_LAW25_ENABLED=true
COMPLIANCE_DATA_RESIDENCY=ca-central-1
COMPLIANCE_ZERO_RETENTION=true
COMPLIANCE_PHI_FREE_LOGGING=true

# Encryption
ENCRYPTION_ALGORITHM=AES-256-GCM
ENCRYPTION_KEY=your_encryption_key_here

# =============================================================================
# TRANSCRIPTION CONFIGURATION
# =============================================================================
TRANSCRIPTION_MAX_DURATION_SECONDS=3600  # 1 hour
TRANSCRIPTION_AUTO_RECONNECT=true
TRANSCRIPTION_MAX_RECONNECT_ATTEMPTS=3
TRANSCRIPTION_RECONNECT_DELAY_MS=2000

# Voice Commands
VOICE_COMMANDS_ENABLED=true
VOICE_COMMANDS_CONFIDENCE_THRESHOLD=0.8

# =============================================================================
# EXPORT CONFIGURATION
# =============================================================================
EXPORT_MAX_FILE_SIZE_MB=50
EXPORT_ALLOWED_FORMATS=docx,pdf
EXPORT_TEMP_DIR=temp/exports/
EXPORT_CLEANUP_INTERVAL_HOURS=24

# =============================================================================
# PERFORMANCE CONFIGURATION
# =============================================================================
PERFORMANCE_MONITORING_ENABLED=true
PERFORMANCE_SLOW_QUERY_THRESHOLD_MS=1000
PERFORMANCE_MEMORY_WARNING_THRESHOLD_MB=512

# WebSocket Configuration
WEBSOCKET_HEARTBEAT_INTERVAL_MS=30000
WEBSOCKET_MAX_PAYLOAD_SIZE_BYTES=1048576  # 1MB

# =============================================================================
# DEVELOPMENT CONFIGURATION
# =============================================================================
# Only set these in development
DEBUG_MODE=false
DEBUG_LOG_LEVEL=debug
DEBUG_SHOW_ERRORS=true

# =============================================================================
# MONITORING CONFIGURATION
# =============================================================================
HEALTH_CHECK_ENABLED=true
HEALTH_CHECK_INTERVAL_MS=30000
METRICS_ENABLED=true
METRICS_PORT=9090

# =============================================================================
# BACKUP CONFIGURATION
# =============================================================================
BACKUP_ENABLED=false
BACKUP_SCHEDULE=0 2 * * *  # Daily at 2 AM
BACKUP_RETENTION_DAYS=30

# =============================================================================
# NOTIFICATION CONFIGURATION
# =============================================================================
# Email notifications (optional)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your_email@gmail.com
SMTP_PASS=your_app_password
SMTP_FROM=noreply@centomomd.com

# =============================================================================
# FEATURE FLAGS
# =============================================================================
FEATURE_REAL_TIME_PREVIEW=true
FEATURE_VOICE_COMMANDS=true
FEATURE_AI_FORMATTING=true
FEATURE_EXPORT=true
FEATURE_AUDIT_LOGGING=true
